"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1336],{34958:function(e,t,n){n.d(t,{wc:function(){return calcCountdown},Vj:function(){return r.V},NY:function(){return useReviewTechnicalSpecifications}}),n(14486),n(96732);var r=n(29298),o=n(16835),c=n(24316),calcCountdown=function(e,t){var n={days:e/c.nn.DAY,hours:e%c.nn.DAY/c.nn.HOUR,minutes:e%c.nn.HOUR/c.nn.MINUTE,seconds:e%c.nn.MINUTE/c.nn.SECOND},r=Object.values(c.ws);return Object.entries(n).map(function(e){var t=(0,o.Z)(e,2),n=Math.floor((t[0],t[1]));return n<10?"0".concat(n):String(n)}).reduce(function(e,n,o){return"".concat(e," ").concat(e?":":""," ").concat(n," ").concat(t(r[o]))},"")},i=n(67294),useReviewTechnicalSpecifications=function(e){var t,n=e.colors,r=e.attributes,o=e.sku,c=(0,i.useMemo)(function(){return n.find(function(e){return e.sku===o})},[n]),u=(0,i.useMemo)(function(){return Object.keys(r).map(function(e){var t,n=r[e].find(function(e){return e.sku===o});return{name:e,value:null!==(t=null==n?void 0:n.attribute.value)&&void 0!==t?t:""}})},[r]);return{color:null!==(t=null==c?void 0:c.color.title)&&void 0!==t?t:null,currentAttributes:u}}},29298:function(e,t,n){n.d(t,{A:function(){return useCartPromotionsMap},V:function(){return promotionsMapHashFunction}});var r=n(67294),o=n(61866),promotionsMapHashFunction=function(e,t,n){return"".concat(t,"-").concat(n,"-").concat(e)},useCartPromotionsMap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,r.useMemo)(function(){return((null==t?void 0:t.filter(function(t){var n=t.referenceProductSku,r=t.mainEntityType;return n===e&&r===o.Gc.PRODUCT}))||[]).reduce(function(t,n){return t[promotionsMapHashFunction(e,n.promoId,n.ruleId)]=n,t},{})},[t])}},96732:function(e,t,n){n.d(t,{x:function(){return useGifts}});var r=n(27812),o=n(16835),c=n(59499),i=n(67294),u=n(61866),a=n(34958),isAvailable=function(e){var t=e.cartsPromotionsMap,n=e.mainProductSku,r=e.multiplicity,o=e.ruleId,c=e.promoId,i=e.type===u.il.KOVSH,s=t[(0,a.Vj)(n,c,o)];return s?!i&&r:!s};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var updateState=function(e){var t=e.promotions,n=e.cartsPromotionsMap,o=e.type,c=e.mainProductSku,i=(t||[]).filter(function(e){return isAvailable({cartsPromotionsMap:n,mainProductSku:c,multiplicity:e.multiplicity,promoId:e.id,ruleId:e.ruleId,type:o})}),u=(i||[]).reduce(function(e,t){var n=t.id,o=t.ruleId,c=t.result.products,i=t.multiplicity,u=t.endDate,a=t.choiceType,s=(void 0===c?[]:c).filter(function(e){return!!e}).map(function(e){return _objectSpread(_objectSpread({},e),{},{id:n,ruleId:o,multiplicity:i,endDate:u,choiceType:a})});return[].concat((0,r.Z)(e),(0,r.Z)(s))},[]);return{availablePromotions:i,gifts:u}},getInitialSelectedGift=function(e,t){if(t){var n=(0,o.Z)(e,1)[0],r=n.id,i=n.ruleId,u=n.sku,a=n.type;return(0,c.Z)({},r,{id:r,rules:[{id:i,chosenProducts:[{sku:u,type:a}]}]})}return{}};function useGifts_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function useGifts_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useGifts_ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useGifts_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var useGifts=function(e){var t=e.promotions,n=e.mainProductSku,u=e.type,a=e.cartsPromotionsMap,s=void 0===a?{}:a,f=(0,i.useState)({}),d=f[0],l=f[1],p=(0,i.useState)(!1),m=p[0],b=p[1],O=(0,i.useRef)(null),E=(0,i.useMemo)(function(){return updateState({promotions:t,cartsPromotionsMap:s,type:u,mainProductSku:String(n)})},[s,t]),y=E.gifts,S=E.availablePromotions,_=(0,i.useMemo)(function(){return 1===y.length},[JSON.stringify(y)]);(0,i.useEffect)(function(){l(getInitialSelectedGift(y,_))},[JSON.stringify(y)]);var v=(0,i.useMemo)(function(){return S.reduce(function(e,t){var n=t.id;if(!(e&&e[n])){var r=S.filter(function(e){return e.id===n}).length;return useGifts_objectSpread(useGifts_objectSpread({},e),{},(0,c.Z)({},n,r))}return e},{})},[y,S]),P=(0,i.useMemo)(function(){var e=Object.keys(d),t=(0,o.Z)(e,1)[0],n=Object.values(d).flat(),r=(0,o.Z)(n,1)[0],c=v[t];return(null==r?void 0:r.rules.length)>=c},[d,v]);return{selectedGifts:d,giftBlockRef:O,isOnlyOneGift:_,giftListIsOpened:m,setGiftListIsOpened:b,onAddGift:function(e,n,o){return l(function(i){var u=t.find(function(t){var r=t.ruleId,o=t.id;return r===n&&o===e}),a=(i[e]||{}).rules,s=u.ruleId,f=u.id,d=u.result.products,l=(void 0===d?[]:d).filter(function(e){return e&&o===e.sku}).map(function(e){return{sku:e.sku,type:e.type}}),p=[].concat((0,r.Z)(void 0===a?[]:a),[{chosenProducts:l,id:s}]);return useGifts_objectSpread(useGifts_objectSpread({},i),{},(0,c.Z)({},e,{id:f,rules:p}))})},onDeleteGift:function(e,t){l(function(n){var r=n[e],o=r.rules.filter(function(e){return e.id!==t}),i=useGifts_objectSpread(useGifts_objectSpread({},r),{},{rules:o});return i.rules.length<1?{}:useGifts_objectSpread(useGifts_objectSpread({},n),{},(0,c.Z)({},e,i))})},limitExceeded:P,giftProducts:y,resetSelectedGifts:function(){return l({})},availablePromotions:S}}},14486:function(e,t,n){n.d(t,{g:function(){return useHomePageRecommendations},z:function(){return useHomePageFirstScreenRecommendations}});var r=n(59499),o=n(51702),c=n(67294),i=n(49612),u=n(52579);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a={topTabsRecommendations:[],topRecommendations:[],bottomTabsRecommendations:[],bottomRecommendations:[],collectedForYouRecommendations:[]},useMagentoCityId=function(e){var t=(0,c.useState)((null==e?void 0:e.city_magento_id)||(null==e?void 0:e.slug)),n=t[0],r=t[1];return(0,c.useEffect)(function(){r((null==e?void 0:e.city_magento_id)||(null==e?void 0:e.slug))},[e]),n},useLoadRecommendationsEffect=function(e){var t=e.recommendationCodes,n=e.city,r=e.cityId,u=e.shouldTrigger,a=(0,o.$G)().i18n,s=useMagentoCityId(n);(0,c.useEffect)(function(){var e;if(!u)return function(){};e=[],t.forEach(function(t){var n=[];t.code.forEach(function(e){n.push((0,i.t_)({locations:s,extended:1,recommenderCode:e,cityId:r}))}),e.push(Promise.all(n).then(function(e){return{data:e.map(function(e,n){return _objectSpread(_objectSpread({},e),{},{recommendedCode:t.code[n]})}),callback:t.callback}}))}),Promise.all(e).then(function(e){return e.forEach(function(e){return e.callback(e.data)})})},[r,u,a.language])},useHomePageRecommendations=function(e){var t=e.city,n=e.cityId,r=e.shouldTrigger,o=(0,c.useState)(a),i=o[0],s=o[1];return useLoadRecommendationsEffect({recommendationCodes:(0,c.useMemo)(function(){return[{code:[u.EM.HOUSEHOLD_APPLIANCES,u.EM.BUILTIN_APPLIANCES,u.EM.AIR_CONDITIONING_EQUIPMENT,u.EM.STORAGE_PREPARATION,u.EM.CLOATHING_CARE,u.EM.CLEANING_AND_WASHING],callback:function(e){return s(function(t){return _objectSpread(_objectSpread({},t),{},{bottomTabsRecommendations:e})})}},{code:[u.EM.NEW_AND_HITS],callback:function(e){return s(function(t){return _objectSpread(_objectSpread({},t),{},{topRecommendations:e})})}},{code:[u.EM.HITS_OF_THE_SEASON,u.EM.POPULAR_PRODUCTS_FROM_NEW_CATEGORY,u.EM.SMARTPHONES_AND_PHONES,u.EM.BEAUTY,u.EM.TO_WARM_UP,u.EM.ALL_FOR_KITCHEN,u.EM.LAPTOPS_FOR_WORK_AND_GAMES,u.EM.CHEAPER_THAN_15000,u.EM.AUDIO_DEVICES,u.EM.FOR_CLEANING,u.EM.RECENTLY_VIEWED],callback:function(e){return s(function(t){return _objectSpread(_objectSpread({},t),{},{bottomRecommendations:e})})}},{code:[u.EM.COLLECTED_FOR_YOU],callback:function(e){return s(function(t){return _objectSpread(_objectSpread({},t),{},{collectedForYouRecommendations:e})})}}]},[s]),city:t,cityId:n,shouldTrigger:void 0!==r&&r}),i},useHomePageFirstScreenRecommendations=function(e){var t=e.city,n=e.cityId,r=e.shouldTrigger,o=(0,c.useState)([]),i=o[0],a=o[1];return useLoadRecommendationsEffect({recommendationCodes:(0,c.useMemo)(function(){return[{code:[u.EM.BESTSELLER_AND_NEW_ITEMS,u.EM.NOW_BUYING,u.EM.NEW_CATEGORIES,u.EM.WINTER_SPORT,u.EM.HEATERS,u.EM.WINTER_TIRES],callback:function(e){return a(e)}}]},[a]),city:t,cityId:n,shouldTrigger:void 0!==r&&r}),i}}}]);